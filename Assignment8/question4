#include<iostream>
using namespace std;

struct Node{
    int data;
    Node *left, *right;
};

Node* create(){
    int x;
    cin>>x;
    if(x == -1) return NULL;
    Node *n = new Node{x,NULL,NULL};
    n->left = create();
    n->right = create();
    return n;
}

bool isBSTutil(Node *r, int minv, int maxv){
    if(r == NULL) return true;
    if(r->data <= minv || r->data >= maxv) return false;
    return isBSTutil(r->left, minv, r->data)
        && isBSTutil(r->right, r->data, maxv);
}

bool isBST(Node *r){
    return isBSTutil(r, -1000000, 1000000);
}

int main(){
    Node *root = create();
    if(isBST(root)) cout<<"BST\n";
    else cout<<"Not BST\n";
    return 0;
}
