#include<iostream>
#include<list>
#include<unordered_set>
#include<vector>
#include<queue>
using namespace std;

void add_1(int src,int dest,vector<list<int>>&a,bool a1=true){
    a[src].push_back(dest);
    a[dest].push_back(src); // because they are bidirectional
}
void dfs(vector<list<int>>&graph,unordered_set<int>&s,int src){
    if(s.find(src)!=s.end()) return;
    cout<<src<<" ";
    s.insert(src);
    for(auto neighbour:graph[src]){
        if(s.find(neighbour)==s.end()){
            s.insert(src);
            
            dfs(graph,s,neighbour);
        }
    }
}

int main(){
    vector<list<int>>a;
    int v;

    cout<<"Enter the number of vertex";
    cin>>v;
    a.resize(v,list<int>());
    int e;
    cout<<"Enter the number of edges:";
    cin>>e;
    for(int i=0;i<e;i++){
        int src,dest;
        cin>>src>>dest;
        add_1(src,dest,a);
    }
    unordered_set<int>s;
    int a1=0;
    dfs(a,s,a1);
    return 0;

}
